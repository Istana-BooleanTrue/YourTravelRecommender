<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <body>
        
<!--WEATHER PAGE-->
    <div class="container" id="weather-page">

    </div>
   

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
    integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
    crossorigin="anonymous">
    </script>
    <script>
    let baseURL = 'http://localhost:3000'


    function weatherApi() {
    $.ajax({
        method: 'GET',
        url: baseURL + "/weather",
        headers: {
            email,
            access_token : localStorage.access_token
        }
    })
    .done(data => {
        $("#weather-page").empty()
        $("#weather-page").append(
        `
        
        <div class="container-fluid">
            <div class="row justify-content-center marginfix-weather marginfix-top">
                <div class="col-12 col-md-4 col-sm-12 col-xs-12">
                    <div class="card p-4">

                        <div class="d-flex">
                            <h6 class="flex-grow-1">${data.name}</h6>
                            <h6>${new Date().getHours()}:${new Date().getMinutes() < 10 ? '0' + new Date().getMinutes() : new Date().getMinutes()}</h6>
                        </div>

                        <div class="d-flex flex-column temp mt-5 mb-3">
                            <h1 class="mb-0 font-weight-bold" id="heading"> ${data.main.temp} ℃ </h1> <span class="small grey">${data.weather[0].main}</span>
                        </div>

                        <div class="d-flex">
                            <div class="temp-details flex-grow-1">
                                <p class="my-1"> <img src="https://i.imgur.com/B9kqOzp.png" height="17px"> <span> ${data.wind.speed} mp/h </span> </p>
                                <p class="my-1"><span> ${data.main.humidity}% humidity </span> </p>
                                <p class="my-1"> <span> Feels like ${data.main.feels_like} ℃</span> </p>
                            </div>

                            <div> <img src="http://openweathermap.org/img/w/${data.weather[0].icon}.png" alt="wheater-logo" width="100px"> </div>
                            </div>

                        </div>
                    </div>
                

                </div>
            </div>

        `
        )
    })
    .fail(err => {
        console.log(err)
    })
}

    </script>
    </body>
</html>